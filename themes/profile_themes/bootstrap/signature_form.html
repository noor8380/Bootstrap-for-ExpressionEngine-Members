<script type="text/javascript">
<!--
function textcounter()
{
	var max		= {maxchars};
	var base	= document.forms.submit_post;
	var cur		= base.body.value.length;
	if (cur > max)
	{
		base.body.value = base.body.value.substring(0, max);
	} 
	else
	{
		base.charsleft.value = max - cur
	}
}
//-->
</script>
<h1>{lang:edit_signature}</h1>
{form_declaration}
<div class="well">
	<div class="form-horizontal">
		<div class="form-group">
				<label for="body" class="col-sm-2 control-label">{lang:signature}</label>
				<div class="col-sm-10">
					<textarea name='body' class='form-control' rows='8' onkeydown="textcounter();" onkeyup="textcounter();" >{signature}</textarea>
				</div>
			</div>
		<div class="form-group">
			<label for="charsleft" class="col-sm-2 control-label">{lang:max_characters}</label>
			<div class="col-sm-10">
				<input type="text" class="form-control" name="charsleft" id="charsleft" size="5" maxlength="5" value="{maxchars}" readonly="readonly">
			</div>
		</div>
		{if image}
			<div class="form-group">
				<label class="col-sm-2 control-label">{lang:signature_image}</label>
				<div class="col-sm-10"><img src="{path:signature_image}" border="0" width="{signature_image_width}" height="{signature_image_height}" title="{lang:signature_image}"></div>
			</div>
		{/if}	
		{if upload_allowed}
			<div class="form-group">
				<label class="col-sm-2 control-label">{lang:upload_image}</label>
				<div class="col-sm-10">
					<input type="file" name="userfile" size="20" class="form-control">
					<span class="help-block">{lang:max_image_size}<br>{lang:allowed_image_types}</span>
				</div>
			</div>
		{/if}
		<div class="form-group">
			<div class="col-sm-10 col-sm-offset-2">
				<button type="submit" class="btn btn-default" value="{lang:update_signature}" name="submit">{lang:update_signature}</button> 
				{if image}&nbsp;&nbsp;<button type="submit" class="btn btn-danger" value="{lang:remove_image}" name="remove">{lang:remove_image}</button>{/if}
			</div>
		</div>
	</div>
</div>
</form>